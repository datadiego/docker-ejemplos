<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio</title>
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="index.css">
</head>
<style>
    .flex-col {
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .flex-row {
        display: flex;
        justify-content: center;
        gap: 10px;
    }

    nav ul li {
        list-style: none;
        display: inline;

    }

    

</style>
<body>
    <nav>
        <ul class="flex-row">
            <li><a href="login.html">Login</a></li>
            <li><a href="register.html">Registro</a></li>
            <li><a href="profile.html">Perfil</a></li>
            <li><a href="rules.html">Reglas</a></li>
        </ul>
    </nav>
    <pre class="centered">
        __                          __               __  
       / /_  __  ______  ___  _____/ /_  ____ ______/ /_ 
      / __ \/ / / / __ \/ _ \/ ___/ __ \/ __ `/ ___/ __ \
     / / / / /_/ / /_/ /  __/ /  / / / / /_/ (__  ) / / /
    /_/ /_/\__, / .___/\___/_/  /_/ /_/\__,_/____/_/ /_/ 
          /____/_/                                       
    </pre>
    <p id="hash" class="centered">31d6cfe0d16ae931b73c59d7e0c089c0</p>
    <form action="/responder" class="flex-col flex-center gap">
        <input type="text" id="input" placeholder="Respuesta" name="respuesta">
        <input type="submit" value="Enviar">
    </form>

    <script>
        if(document.cookie.includes('token')) {
            const token = document.cookie.split('=')[1];
            fetch('/hash', {
                method: 'GET',
                headers: {
                    'Authorization': `Bearer ${token}`
                }
            })
            .then(response => response.json())
            .then(data => {
                //display the hash
                document.getElementById('hash').innerText = data.hash;
            });
        }
    </script>
</body>
</html>